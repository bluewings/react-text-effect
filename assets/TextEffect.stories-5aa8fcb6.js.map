{"version":3,"file":"TextEffect.stories-5aa8fcb6.js","sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/classnames/index.js","../../src/hooks/useTextStyle.ts","../../src/components/TextEffect/Sliced/Sliced.tsx","../../src/components/TextEffect/TextEffect.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import { RefObject, useLayoutEffect, useMemo, useState } from 'react';\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 16 * 15;\n\nfunction useTextStyle<T extends HTMLElement>(ref: RefObject<T>, text: string) {\n  const [containerWidth, setWidth] = useState(0);\n\n  const observer = useMemo(\n    () =>\n      new (window as any).ResizeObserver((entries) => {\n        if (entries[0]) {\n          setWidth(entries[0].contentRect.width);\n        }\n      }),\n    [],\n  );\n\n  useLayoutEffect(() => {\n    if (ref.current) {\n      observer.observe(ref.current);\n      return () => observer.disconnect();\n    }\n  }, [ref.current]);\n\n  const [style, setStyle] = useState({ fontSize: 0, width: 0, height: 0 });\n\n  useLayoutEffect(() => {\n    if (ref.current && containerWidth > 0) {\n      const container = ref.current;\n      const inspector = document.createElement('div');\n      inspector.style.position = 'fixed';\n      inspector.style.pointerEvents = 'none';\n      inspector.style.opacity = '0';\n      inspector.innerText = text;\n      container.appendChild(inspector);\n      document.fonts.ready.then(() => {\n        let fontSize = MAX_FONT_SIZE;\n        while (MIN_FONT_SIZE < fontSize) {\n          inspector.style.fontSize = `${~~fontSize}px`;\n          const rect = inspector.getBoundingClientRect();\n          if (rect.width <= containerWidth) {\n            break;\n          }\n          fontSize = fontSize * 0.9;\n        }\n        const { width, height } = inspector.getBoundingClientRect();\n        setStyle({ fontSize: parseInt(window.getComputedStyle(inspector).fontSize), width, height });\n        container.removeChild(inspector);\n      });\n    }\n  }, [ref, text, containerWidth]);\n\n  return style;\n}\n\nexport default useTextStyle;\n","import cx from 'classnames';\nimport React, { useRef } from 'react';\nimport useTextStyle from '../../../hooks/useTextStyle';\nimport styles from './Sliced.module.scss';\n\ninterface ISlicedProps {\n  message?: string;\n  fontSize?: string | number;\n}\n\nfunction Sliced({ message }: ISlicedProps) {\n  const ref = useRef(null);\n  const textSize = useTextStyle<HTMLDivElement>(ref, message ?? '');\n\n  return (\n    <div ref={ref} className={styles.container}>\n      <span className={cx(styles.stroke, styles.shadow)} style={textSize}>\n        {message}\n      </span>\n    </div>\n  );\n}\n\nexport default Sliced;\n","import React from 'react';\nimport Sliced from './Sliced';\nimport styles from './TextEffect.module.scss';\n\n// https://freefrontend.com/css-text-effects/\n\ninterface ITextEffectProps {\n  message?: string;\n}\n\nfunction TextEffect({ message }: ITextEffectProps) {\n  return (\n    <div className={styles.root}>\n      <Sliced message={message} />\n    </div>\n  );\n}\n\nexport default TextEffect;\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","module","hasOwn","classNames","classes","arg","argType","inner","key","MIN_FONT_SIZE","MAX_FONT_SIZE","useTextStyle","ref","text","containerWidth","setWidth","useState","observer","useMemo","entries","useLayoutEffect","style","setStyle","container","inspector","fontSize","width","height","Sliced","message","useRef","textSize","styles","cx","TextEffect","jsx"],"mappings":"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","x_google_ignoreList":[0,1,2]}